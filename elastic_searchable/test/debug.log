# Logfile created on 2012-07-21 09:44:22 +0200 by logger.rb/31641
  [1m[36m (0.9ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255), "name" varchar(255)) 
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "blogs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255)) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "friends" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "favorite_color" varchar(255), "book_id" integer) [0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "isbn" varchar(255)) 
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "max_page_size_classes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "parents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) 
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "children" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "parent_id" integer) [0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('1')
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe083945848>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe083831358>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe081036790>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe080b44610>>
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 10[0m
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007fe080bf0b18>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe080c73a40>>
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  UPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 11
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007fe080d48d08>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe080da3de8>>
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 12[0m
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007fe080a1e380>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "blogs" ("body", "title") VALUES (?, ?)  [["body", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "blogs" ("body", "title") VALUES (?, ?)[0m  [["body", nil], ["title", "foo"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", "123abc"], ["title", "another world"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Book:0x007fe083c88ca8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "friends" ("book_id", "favorite_color", "name") VALUES (?, ?, ?)[0m  [["book_id", 1], ["favorite_color", "red"], ["name", "bob"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Friend:0x007fe083cc4460>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 1, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 2, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 3, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 4, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 5, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 6, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 7, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 8, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 9, name: "foo one">>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe0839d8210>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe083bf6bf0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe083e3d3c8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe083e5d970>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe083e607b0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe083e87b58>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe083e8a970>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe083ea45f0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe083ea7408>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe083ea2ae8>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe083caff60>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe0808c55d8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe08089cf98>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe081187ef0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.2ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe081195118>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe081235370>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.3ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe080a29aa0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe080acb170>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe080b2fa08>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe080aa9e08>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (3.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe080d19a30>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe080a5c8b0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe08154c6f8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe083ca97c8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe080a84360>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe08394e2b8>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe083d2df50>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe083c82330>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe083a4bb48>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe083a9ccc8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.2ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe083cc4640>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe083826228>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fe08382f940>>
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe0839a9230>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe083e2b290>>
  [1m[35mTestElasticSearchable::Post Load (0.4ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 0
  [1m[36mTestElasticSearchable::Post Load (0.3ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 1[0m
  [1m[35mTestElasticSearchable::Post Load (0.2ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 2
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe0839f00b8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe083ca1708>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 15]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NoMethodError: undefined method `delete_id_from_index_backgrounded' for #<Class:0x007fe083808098>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe083933418>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe08393d1e8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe083a8a640>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.2ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe083b1f768>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 19]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NoMethodError: undefined method `delete_id_from_index_backgrounded' for #<Class:0x007fe083808098>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe0839c2f00>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe0838e5038>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe083be8ac8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe083beaf08>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe083e45cf8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe083e4fe88>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe083e6f508>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe083e803d0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe083e9f758>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe083ea1850>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe083cf70b8>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe083b29e48>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe083aa76a0>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe083aa9c20>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe083dbcb88>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe083dc7100>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe083cc2e30>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe080ae87e8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.3ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe0811851c8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fe081191680>>
  [1m[36m (1.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.5ms)[0m  DROP TABLE "posts"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255), "name" varchar(255)) [0m
  [1m[35m (1.0ms)[0m  DROP TABLE "blogs"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "blogs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255)) [0m
  [1m[35m (0.9ms)[0m  DROP TABLE "users"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  DROP TABLE "friends"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "friends" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "favorite_color" varchar(255), "book_id" integer) [0m
  [1m[35m (0.9ms)[0m  DROP TABLE "books"
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "isbn" varchar(255)) [0m
  [1m[35m (1.3ms)[0m  DROP TABLE "max_page_size_classes"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "max_page_size_classes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (0.9ms)[0m  DROP TABLE "parents"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "parents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.9ms)[0m  DROP TABLE "children"
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "children" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "parent_id" integer) [0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.9ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d45267b8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d43aeb38>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d48cce58>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d4d8ed88>>
  [1m[36mTestElasticSearchable::Post Load (0.3ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 10[0m
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d4e37cd0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d4ea0410>>
  [1m[35mTestElasticSearchable::Post Load (0.2ms)[0m  SELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  UPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 11
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d4efb298>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d4f61840>>
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 12[0m
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d40f8a60>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "blogs" ("body", "title") VALUES (?, ?)  [["body", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "blogs" ("body", "title") VALUES (?, ?)[0m  [["body", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", "123abc"], ["title", "another world"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Book:0x007ff7d444ecc8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "friends" ("book_id", "favorite_color", "name") VALUES (?, ?, ?)[0m  [["book_id", 1], ["favorite_color", "red"], ["name", "bob"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Friend:0x007ff7d43f5290>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 1, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 2, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 3, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 4, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 5, name: "foo one">>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 6, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 7, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.3ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 8, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 9, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d42b1d48>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d429d0f0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d41ab520>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d41ef4c8>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d41fa2d8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d4212888>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d4248ca8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (3.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d425a930>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d4265718>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (3.5ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d4425da0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d4428be0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d43728b8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d4b00620>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d4ac7e60>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d4ae4cb8>>
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d4b49bb8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d4b6e4b8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d4c700c8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d4cd3588>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d4e3ed78>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d4e91460>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d4f5ea00>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d4f7da18>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d61dfb20>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d4d806e8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d453c298>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (2.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d4526b78>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d45ef8e8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d45f9258>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d43ed630>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d430ac68>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d44020d0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff7d42f9080>>
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d43ba550>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d41dd700>>
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 0
  [1m[36mTestElasticSearchable::Post Load (0.4ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 1[0m
  [1m[35mTestElasticSearchable::Post Load (0.4ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 2
  [1m[36mSQL (1.4ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d41311f8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d4351cd0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 15]]
  [1m[35m (1.7ms)[0m  commit transaction
#<NoMethodError: undefined method `delete_id_from_index_backgrounded' for #<Class:0x007ff7d41ddf48>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d4225758>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d42c8610>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d422e678>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.3ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d40cd478>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 19]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NoMethodError: undefined method `delete_id_from_index_backgrounded' for #<Class:0x007ff7d41ddf48>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.2ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d433d118>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d41cc158>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d42b6c80>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d42c0fa0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.2ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d41b59d0>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d41b7d20>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d41fab70>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d4204f30>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d424f968>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d4259aa8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d44272b8>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d4429158>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d445b658>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d4465ba8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d460cd30>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d460f2d8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d4270370>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d436eb78>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.2ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d4ae82f0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff7d4af6c10>>
  [1m[36m (1.5ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.9ms)[0m  DROP TABLE "posts"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255), "name" varchar(255)) [0m
  [1m[35m (1.5ms)[0m  DROP TABLE "blogs"
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "blogs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  DROP TABLE "users"
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.4ms)[0m  DROP TABLE "friends"
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "friends" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "favorite_color" varchar(255), "book_id" integer) [0m
  [1m[35m (1.6ms)[0m  DROP TABLE "books"
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "isbn" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  DROP TABLE "max_page_size_classes"
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "max_page_size_classes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.5ms)[0m  DROP TABLE "parents"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "parents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (1.1ms)[0m  DROP TABLE "children"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "children" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "parent_id" integer) [0m
  [1m[35m (0.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (5.0ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", nil], ["title", "bar"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Book id: 1, title: "bar", isbn: nil>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("isbn", "title") VALUES (?, ?)[0m  [["isbn", nil], ["title", "foo"]]
  [1m[35m (2.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Book id: 2, title: "foo", isbn: nil>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f906260aa28>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f90627e38b8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f90638926c8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f90625dfe18>>
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 10[0m
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007f90649793b0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f9062549878>>
  [1m[35mTestElasticSearchable::Post Load (0.1ms)[0m  SELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  UPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 11
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007f9062489aa0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f90624304f0>>
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 12[0m
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007f90623af378>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "blogs" ("body", "title") VALUES (?, ?)  [["body", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "blogs" ("body", "title") VALUES (?, ?)[0m  [["body", nil], ["title", "foo"]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", "123abc"], ["title", "another world"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Book:0x007f906275fa90>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "friends" ("book_id", "favorite_color", "name") VALUES (?, ?, ?)[0m  [["book_id", 3], ["favorite_color", "red"], ["name", "bob"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Friend:0x007f906276a378>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 1, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 2, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 3, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 4, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 5, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 6, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 7, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 8, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 9, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f90649eff60>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f9062092e38>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f9062131ba0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f90622ee4e8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.5ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f9062308e38>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f906245c8c0>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f90624be750>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f90626480d0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f9062664230>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f90623fe068>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f9062649340>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f90619c54e8>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f9061b9fed0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f9062235920>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f90626537c8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f90627ce008>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f90648d3168>>
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f9064a33198>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f90625e3540>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f9062499338>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f906254ed00>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f90623b0c50>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f9064801c80>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f9062528768>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f90625cbee0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f906483fff8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f9064842398>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f906484fc00>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f906275ec80>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f9064aa3d08>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f9064aa5a18>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f9064ac86a8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f9064acb0d8>>
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f90649c3b18>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f90649cddc0>>
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 0
  [1m[36mTestElasticSearchable::Post Load (0.3ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 1[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 2
  [1m[36mSQL (8.2ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f9064afe550>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f9064b08640>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 15]]
  [1m[35m (17.3ms)[0m  commit transaction
#<NoMethodError: undefined method `delete_id_from_index_backgrounded' for #<Class:0x007f9064806f28>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f9064b2f858>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f9064b31b30>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f9064a6aad0>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f9064a6cec0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 19]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NoMethodError: undefined method `delete_id_from_index_backgrounded' for #<Class:0x007f9064806f28>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f90649ebf28>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f90649ed878>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f90627803a8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f906278a8f8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f9064868408>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f906486a9b0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f906488b2c8>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f906488d848>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f906184d458>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f90620a9e08>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f90622c0098>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f90622f9aa0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f90624524b0>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f90624bbde8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f906266ad60>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f90638631c0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f90627daa10>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f9064ab03c8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f9062232a18>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f90649726a0>>
  [1m[36m (1.0ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.4ms)[0m  DROP TABLE "posts"
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255), "name" varchar(255)) [0m
  [1m[35m (1.4ms)[0m  DROP TABLE "blogs"
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "blogs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  DROP TABLE "users"
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.3ms)[0m  DROP TABLE "friends"
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "friends" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "favorite_color" varchar(255), "book_id" integer) [0m
  [1m[35m (1.2ms)[0m  DROP TABLE "books"
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "isbn" varchar(255)) [0m
  [1m[35m (1.4ms)[0m  DROP TABLE "max_page_size_classes"
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "max_page_size_classes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.5ms)[0m  DROP TABLE "parents"
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "parents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (1.3ms)[0m  DROP TABLE "children"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "children" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "parent_id" integer) [0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.6ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", nil], ["title", "bar"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Book id: 1, title: "bar", isbn: nil>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("isbn", "title") VALUES (?, ?)[0m  [["isbn", nil], ["title", "foo"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Book id: 2, title: "foo", isbn: nil>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe91c1f718>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.5ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe9484f810>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe95cab4f8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe95c1d1a8>>
  [1m[36mTestElasticSearchable::Post Load (0.3ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 10[0m
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007ffe95c05b20>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe95c2e9f8>>
  [1m[35mTestElasticSearchable::Post Load (0.2ms)[0m  SELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  UPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 11
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007ffe95bbd7f8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe95bc9e18>>
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 12[0m
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007ffe95b71ab0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "blogs" ("body", "title") VALUES (?, ?)  [["body", nil], ["title", "foo"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "blogs" ("body", "title") VALUES (?, ?)[0m  [["body", nil], ["title", "foo"]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", "123abc"], ["title", "another world"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Book:0x007ffe95d57be0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "friends" ("book_id", "favorite_color", "name") VALUES (?, ?, ?)[0m  [["book_id", 3], ["favorite_color", "red"], ["name", "bob"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Friend:0x007ffe95d6cec8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 1, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 2, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 3, name: "foo one">>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 4, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 5, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 6, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 7, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 8, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 9, name: "foo one">>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe9581ab50>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe919130b0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe93898de0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe93833cd8>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe93930c58>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe9211fc90>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe91be3678>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe91c3e1e0>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe91c85338>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe91e1e7a8>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe91ed4cb0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe949e5170>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe94a79820>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe95ce8ce0>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe95cef5e0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe95a70fa8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe95a79108>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe95c11510>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.2ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe95c208d0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe95c294d0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe95bbac60>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe95b73388>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe95b759a8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe95b58e98>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe9588b800>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe95b43d40>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.2ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe95b460e0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe95d54350>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe95d697a0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe95d7de30>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe95d7fb68>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe95b1b1d8>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ffe95b1dc30>>
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe95db5c90>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe95902d38>>
  [1m[35mTestElasticSearchable::Post Load (0.4ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 0
  [1m[36mTestElasticSearchable::Post Load (0.3ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 1[0m
  [1m[35mTestElasticSearchable::Post Load (0.2ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 2
  [1m[36mSQL (1.3ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe958468e0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe9585de00>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 15]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NoMethodError: undefined method `delete_id_from_index_backgrounded' for #<Class:0x007ffe95b5f270>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe95834c08>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe95836ee0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe958e7e70>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe9591c878>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 19]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NoMethodError: undefined method `delete_id_from_index_backgrounded' for #<Class:0x007ffe95b5f270>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe9593e6f8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe95818468>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe9595ffb0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe95aa32f0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe958a5638>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe958a7bb8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.4ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe95a9b2d0>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe95b91270>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe9184d450>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe91929810>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.2ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe938de570>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe939268e8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe921158a8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe9187eb40>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe91c8be68>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe91ad0ce0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe94844e38>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe9498a1f8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe95ce5e78>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ffe959ce2a8>>
  [1m[36m (1.0ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.4ms)[0m  DROP TABLE "posts"
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255), "name" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  DROP TABLE "blogs"
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "blogs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  DROP TABLE "users"
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.0ms)[0m  DROP TABLE "friends"
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "friends" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "favorite_color" varchar(255), "book_id" integer) [0m
  [1m[35m (1.1ms)[0m  DROP TABLE "books"
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "isbn" varchar(255)) [0m
  [1m[35m (1.1ms)[0m  DROP TABLE "max_page_size_classes"
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "max_page_size_classes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.3ms)[0m  DROP TABLE "parents"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "parents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (1.3ms)[0m  DROP TABLE "children"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "children" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "parent_id" integer) [0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.5ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", nil], ["title", "bar"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Book id: 1, title: "bar", isbn: nil>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("isbn", "title") VALUES (?, ?)[0m  [["isbn", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Book id: 2, title: "foo", isbn: nil>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc50915fa10>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc508948a20>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc50b835338>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc50b8a88d8>>
  [1m[36mTestElasticSearchable::Post Load (0.3ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 10[0m
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007fc50b8b4458>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc5097dfb38>>
  [1m[35mTestElasticSearchable::Post Load (0.2ms)[0m  SELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  UPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 11
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007fc5097e7b58>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc5097f4178>>
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 12[0m
  [1m[35m (0.5ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007fc5096f03d0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "blogs" ("body", "title") VALUES (?, ?)  [["body", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "blogs" ("body", "title") VALUES (?, ?)[0m  [["body", nil], ["title", "foo"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", "123abc"], ["title", "another world"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Book:0x007fc509392940>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "friends" ("book_id", "favorite_color", "name") VALUES (?, ?, ?)[0m  [["book_id", 3], ["favorite_color", "red"], ["name", "bob"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Friend:0x007fc50939d228>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 1, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 2, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 3, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 4, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 5, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 6, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 7, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 8, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 9, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc50b9299b0>>
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc509094950>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc50a06ebf0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc50924d468>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc509267e58>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc5099a7470>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc50a140768>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc50933d148>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc50943e600>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc509531fa8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc50962f568>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc50a0f2310>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc50a20db78>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc50b815858>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc509455da0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc50b8a19c0>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc5092d8e28>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc50955b740>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc50b8ac0f0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc5097da700>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc5097e5088>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc5096f1d98>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc5096f43b8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (7.5ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc5097116c0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (6.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc509713c68>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc509731d80>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc5097340f8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc50938f150>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.5ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc509391c20>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc5093b0698>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc5093b23f8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc5096c23b8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fc5096c4e10>>
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc509340a50>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc5096868b8>>
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 0
  [1m[36mTestElasticSearchable::Post Load (0.3ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 1[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 2
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc50931a800>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc5096de900>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 15]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NoMethodError: undefined method `delete_id_from_index_backgrounded' for #<Class:0x007fc5096f9598>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc509169d58>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc50957d818>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc50b8f97b0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc50b8fbbc8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 19]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NoMethodError: undefined method `delete_id_from_index_backgrounded' for #<Class:0x007fc5096f9598>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc50b925a40>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc50b9274a8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc50b94a3e0>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc50b954958>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc50b975270>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc50b9777f0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc50b998108>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc50b99a6b0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc50884d260>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc5090a9dc8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc50921e7f8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc509258818>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc50999a4a0>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc50a13db58>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (26.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc5091a7c20>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (36.4ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc5093df178>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (5.5ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc5099b0048>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc508965fa8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc50b812608>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fc50b890760>>
  [1m[36m (1.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (3.6ms)[0m  DROP TABLE "posts"
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255), "name" varchar(255)) [0m
  [1m[35m (1.3ms)[0m  DROP TABLE "blogs"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "blogs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255)) [0m
  [1m[35m (0.9ms)[0m  DROP TABLE "users"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.1ms)[0m  DROP TABLE "friends"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "friends" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "favorite_color" varchar(255), "book_id" integer) [0m
  [1m[35m (1.1ms)[0m  DROP TABLE "books"
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "isbn" varchar(255)) [0m
  [1m[35m (1.5ms)[0m  DROP TABLE "max_page_size_classes"
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "max_page_size_classes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.0ms)[0m  DROP TABLE "parents"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "parents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  DROP TABLE "children"
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "children" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "parent_id" integer) [0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.1ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", nil], ["title", "bar"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Book id: 1, title: "bar", isbn: nil>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("isbn", "title") VALUES (?, ?)[0m  [["isbn", nil], ["title", "foo"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Book id: 2, title: "foo", isbn: nil>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda297d610>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda1104408>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda3da75c8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.2ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda3c6ec10>>
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 10[0m
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007fcda3d03d60>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda3bb9040>>
  [1m[35mTestElasticSearchable::Post Load (0.1ms)[0m  SELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  UPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 11
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007fcda3c78468>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda3b74aa8>>
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 12[0m
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007fcda3b7c320>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "blogs" ("body", "title") VALUES (?, ?)  [["body", nil], ["title", "foo"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "blogs" ("body", "title") VALUES (?, ?)[0m  [["body", nil], ["title", "foo"]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", "123abc"], ["title", "another world"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Book:0x007fcda3c2d878>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "friends" ("book_id", "favorite_color", "name") VALUES (?, ?, ?)[0m  [["book_id", 3], ["favorite_color", "red"], ["name", "bob"]]
  [1m[35m (1.2ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Friend:0x007fcda3908b48>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 1, name: "foo one">>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 2, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 3, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 4, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 5, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 6, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 7, name: "foo one">>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 8, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 9, name: "foo one">>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda39373d0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda08d7050>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda10a9c38>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda202ede8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda20490a8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda0af4770>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda0b61668>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda29a79d8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda29d1d00>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda21b2ae8>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda1368988>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda3846b60>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda38d9fa0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda388e410>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda389fad0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda3d65ce0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda3d67338>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda3d202d0>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda3d225a8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda3c74098>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda3bb76c8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda3b76e20>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda3d318f0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda3d32a48>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda3d3d100>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda3c67960>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda3a0b950>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda3a6fc98>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda3c2dda0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda3d4c2b8>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda3d4e0b8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda386d170>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.2ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007fcda3877440>>
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda3bef8e8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda3be4ce0>>
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 0
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 1[0m
  [1m[35mTestElasticSearchable::Post Load (0.4ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 2
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda3aae240>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda3b27028>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 15]]
  [1m[35m (1.6ms)[0m  commit transaction
#<NoMethodError: undefined method `delete_id_from_index_backgrounded' for #<Class:0x007fcda395b4d8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda39f2388>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda39f4660>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda38f7f78>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda3a3c870>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 19]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NoMethodError: undefined method `delete_id_from_index_backgrounded' for #<Class:0x007fcda395b4d8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.3ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda3c04ef0>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda3936188>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda3c251a0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda3c89f10>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda3a2ea68>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda3968de0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda38beac0>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda38c1068>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda084da58>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda09296c0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.2ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda2079d48>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda2034f40>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda0af22b8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda0b5bbc8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda102b8d8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda20f2e00>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda132e030>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda17e04e8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.2ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda3890d78>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007fcda3833ad8>>
  [1m[36m (1.5ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.2ms)[0m  DROP TABLE "posts"
  [1m[36m (4.0ms)[0m  [1mCREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255), "name" varchar(255)) [0m
  [1m[35m (4.0ms)[0m  DROP TABLE "blogs"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "blogs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  DROP TABLE "users"
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  DROP TABLE "friends"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "friends" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "favorite_color" varchar(255), "book_id" integer) [0m
  [1m[35m (1.9ms)[0m  DROP TABLE "books"
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "isbn" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  DROP TABLE "max_page_size_classes"
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "max_page_size_classes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  DROP TABLE "parents"
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "parents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  DROP TABLE "children"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "children" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "parent_id" integer) [0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.8ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb414470>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb34b390>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2f9836a50>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fab300e8>>
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 10[0m
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fabd1970>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2f99c7900>>
  [1m[35mTestElasticSearchable::Post Load (0.2ms)[0m  SELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  UPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 11
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007ff2f9a5e468>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2f9aba3d0>>
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 12[0m
  [1m[35m (0.5ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007ff2f9b2eb18>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "blogs" ("body", "title") VALUES (?, ?)  [["body", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "blogs" ("body", "title") VALUES (?, ?)[0m  [["body", nil], ["title", "foo"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", "123abc"], ["title", "another world"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Book:0x007ff2fb2f44f0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "friends" ("book_id", "favorite_color", "name") VALUES (?, ?, ?)[0m  [["book_id", 1], ["favorite_color", "red"], ["name", "bob"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Friend:0x007ff2fb3245b0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 1, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 2, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 3, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 4, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 5, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.3ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 6, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 7, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 8, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (6.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 9, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2fb19d048>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2fb1fda10>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2fb208820>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2fb48d9d8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2fb4907f0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2fb4b0d98>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2fb4b3bd8>>
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2fb4cd830>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2fb4d0670>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2fb4cbd28>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2fb17df90>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2f9067cc0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2fa844550>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2faa30418>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2faa3d5a0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2faad8a00>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2f9a1ddc8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2f9146d58>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2fab14c30>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2f99bc230>>
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2f9901a20>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2f9b2f6d0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2f9baa1f0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2fb1e09d8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2f9162080>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2fb149088>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2fb40e520>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (4.4ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2fb2ee4b0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2fb2f6fc0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2fb31c108>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2fb3255a0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2fb340210>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff2fb341958>>
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb362518>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb369d90>>
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 0
  [1m[36mTestElasticSearchable::Post Load (0.4ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 1[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 2
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb3afe58>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb3b16b8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 15]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NoMethodError: undefined method `delete_id_from_index_backgrounded' for #<Class:0x007ff2fb3608a8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb3db918>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb3dd650>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb161408>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb1632f8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 19]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NoMethodError: undefined method `delete_id_from_index_backgrounded' for #<Class:0x007ff2fb3608a8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb1575c0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb1e3de0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (2.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb1a95a0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb1aba58>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (2.2ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb2123c0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb481160>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.4ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb4a07e0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb4a28b0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb4c1d00>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb4cbe18>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb4ea9a8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb4f4f20>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb515798>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb517d40>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb537eb0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb53a430>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (4.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2fb22f0d8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2f9b454f8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2faa1ca08>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff2faa30a58>>
  [1m[36m (1.7ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  DROP TABLE "posts"
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255), "name" varchar(255)) [0m
  [1m[35m (0.9ms)[0m  DROP TABLE "blogs"
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "blogs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255)) [0m
  [1m[35m (1.1ms)[0m  DROP TABLE "users"
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  DROP TABLE "friends"
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "friends" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "favorite_color" varchar(255), "book_id" integer) [0m
  [1m[35m (0.9ms)[0m  DROP TABLE "books"
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "isbn" varchar(255)) [0m
  [1m[35m (0.8ms)[0m  DROP TABLE "max_page_size_classes"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "max_page_size_classes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (0.9ms)[0m  DROP TABLE "parents"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "parents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (1.7ms)[0m  DROP TABLE "children"
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "children" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "parent_id" integer) [0m
  [1m[35m (0.2ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (5.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b3447e10>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b4405e88>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b3036fb0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.2ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b21540d8>>
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 10[0m
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007f86b20eee90>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b3250ff8>>
  [1m[35mTestElasticSearchable::Post Load (0.1ms)[0m  SELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  UPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 11
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007f86b228e188>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b29db8a0>>
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 12[0m
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007f86b42996a8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "blogs" ("body", "title") VALUES (?, ?)  [["body", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "blogs" ("body", "title") VALUES (?, ?)[0m  [["body", nil], ["title", "foo"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", "123abc"], ["title", "another world"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Book:0x007f86b24e7fd8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "friends" ("book_id", "favorite_color", "name") VALUES (?, ?, ?)[0m  [["book_id", 1], ["favorite_color", "red"], ["name", "bob"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Friend:0x007f86b43910b0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 1, name: "foo one">>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 2, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 3, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 4, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 5, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 6, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 7, name: "foo one">>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 8, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 9, name: "foo one">>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b460fb48>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b4628f30>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b457f548>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b459faf0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b45a2908>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b45c2ed8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b45c5cf0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b44aa578>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b44ad390>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b44a3070>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b447ea40>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b20a9368>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b20fed18>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b400dce0>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b401fff8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b4118248>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b318a1c8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b4312b98>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b207fd88>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b2242058>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b22602b0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b42ab858>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b425a1b0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b45d2270>>
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b46539b0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b41bf778>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b443f6d8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (4.5ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b24e13e0>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b2267f38>>
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b21fda98>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b4390f98>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b45112a0>>
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f86b4403638>>
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b41d0578>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b41ad190>>
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 0
  [1m[36mTestElasticSearchable::Post Load (0.3ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 1[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 2
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b4555540>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b455ed98>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 15]]
  [1m[35m (1.3ms)[0m  commit transaction
#<NoMethodError: undefined method `delete_id_from_index_backgrounded' for #<Class:0x007f86b41c8788>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b463fb40>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b4649910>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b4463b00>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b4465a40>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 19]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NoMethodError: undefined method `delete_id_from_index_backgrounded' for #<Class:0x007f86b41c8788>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b45ef028>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b45f1350>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b461ac00>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b461d068>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b4587c70>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b4591e00>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (2.5ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b45b1480>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b45bb548>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b44a54d8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b44a75d0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b452b970>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b452def0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b44e5588>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b44e7b30>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b435b898>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b4365de8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b438f6e8>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b32407c0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.5ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b400b5d0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f86b40178a8>>
  [1m[36m (4.3ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.1ms)[0m  DROP TABLE "posts"
  [1m[36m (3.1ms)[0m  [1mCREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255), "name" varchar(255)) [0m
  [1m[35m (5.8ms)[0m  DROP TABLE "blogs"
  [1m[36m (1.8ms)[0m  [1mCREATE TABLE "blogs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255)) [0m
  [1m[35m (3.4ms)[0m  DROP TABLE "users"
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (2.1ms)[0m  DROP TABLE "friends"
  [1m[36m (5.4ms)[0m  [1mCREATE TABLE "friends" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "favorite_color" varchar(255), "book_id" integer) [0m
  [1m[35m (2.1ms)[0m  DROP TABLE "books"
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "isbn" varchar(255)) [0m
  [1m[35m (1.8ms)[0m  DROP TABLE "max_page_size_classes"
  [1m[36m (2.8ms)[0m  [1mCREATE TABLE "max_page_size_classes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.0ms)[0m  DROP TABLE "parents"
  [1m[36m (1.5ms)[0m  [1mCREATE TABLE "parents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  DROP TABLE "children"
  [1m[36m (6.1ms)[0m  [1mCREATE TABLE "children" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "parent_id" integer) [0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (8.8ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", nil], ["title", "bar"]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Book id: 1, title: "bar", isbn: nil>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("isbn", "title") VALUES (?, ?)[0m  [["isbn", nil], ["title", "foo"]]
  [1m[35m (5.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Book id: 2, title: "foo", isbn: nil>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff171bf8168>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (3.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff171ec18e0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff171eb4398>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff171b82468>>
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 10[0m
  [1m[35m (1.3ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007ff171ce5d00>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff17408e9c8>>
  [1m[35mTestElasticSearchable::Post Load (0.2ms)[0m  SELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  UPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 11
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007ff174095e58>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff171e4fb00>>
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 12[0m
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007ff171e57c10>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "blogs" ("body", "title") VALUES (?, ?)  [["body", nil], ["title", "foo"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "blogs" ("body", "title") VALUES (?, ?)[0m  [["body", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", "123abc"], ["title", "another world"]]
  [1m[36m (4.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Book:0x007ff17417b688>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "friends" ("book_id", "favorite_color", "name") VALUES (?, ?, ?)[0m  [["book_id", 3], ["favorite_color", "red"], ["name", "bob"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Friend:0x007ff1740bf438>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 1, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (2.2ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 2, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 3, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.2ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 4, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 5, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 6, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 7, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (2.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 8, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 9, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff171f70908>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff171f91cc0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff171f94ad8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (4.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff171ce14a8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (6.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff17107d018>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (4.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff171a19680>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (2.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff171a25458>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff171a91310>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff171a39cf0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff171c7de08>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.4ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff171ccdc28>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff171e0c3f0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff171e37168>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff171eaf0c8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff171b12618>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff174216b60>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff174134828>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff171c9bdb8>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (2.4ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff171d46f38>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff171ea94e8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff171b03de8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff174091fb0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff174099c38>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff171e59b50>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.5ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff171dcb4b8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (3.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff171de3248>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff1741408d0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff17415c968>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff1741671d8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (4.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff1740c0900>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (2.2ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff1740c30d8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff1740e0c78>>
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (3.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007ff1740e34c8>>
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff174100f50>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff174102760>>
  [1m[35mTestElasticSearchable::Post Load (0.4ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 0
  [1m[36mTestElasticSearchable::Post Load (0.4ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 1[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 2
  [1m[36mSQL (1.3ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (7.2ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff1741e4b88>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff1741e67f8>>
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 15]]
  [1m[35m (1.5ms)[0m  commit transaction
#<NoMethodError: undefined method `delete_id_from_index_backgrounded' for #<Class:0x007ff1741438a0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (10.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff174056af0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.5ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff174058da0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff174078628>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff1740828f8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 19]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NoMethodError: undefined method `delete_id_from_index_backgrounded' for #<Class:0x007ff1741438a0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.5ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff174024af0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff174026f80>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff171f85330>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff171f8f218>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (2.4ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff171fae1e0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff171fb0760>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.5ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (3.4ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff171fd1078>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff171fdb5f0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff171ff3f38>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff171f24eb8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (10.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff1741d3838>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (5.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff171dd02b0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (5.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff1719f1fb8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (4.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff171a0bf58>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (2.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff171abbd18>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff171bc1370>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (5.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff171d81048>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff171de6088>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff17205d0c8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007ff171eb34e8>>
  [1m[36m (1.5ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.4ms)[0m  DROP TABLE "posts"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255), "name" varchar(255)) [0m
  [1m[35m (1.3ms)[0m  DROP TABLE "blogs"
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "blogs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  DROP TABLE "users"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  DROP TABLE "friends"
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "friends" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "favorite_color" varchar(255), "book_id" integer) [0m
  [1m[35m (1.2ms)[0m  DROP TABLE "books"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "isbn" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  DROP TABLE "max_page_size_classes"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "max_page_size_classes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.0ms)[0m  DROP TABLE "parents"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "parents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (1.1ms)[0m  DROP TABLE "children"
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "children" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "parent_id" integer) [0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.1ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", nil], ["title", "bar"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Book id: 1, title: "bar", isbn: nil>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("isbn", "title") VALUES (?, ?)[0m  [["isbn", nil], ["title", "foo"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Book id: 2, title: "foo", isbn: nil>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1cb68f30>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1ce45ca8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1f118fc8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c20e458>>
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 10[0m
  [1m[35m (0.6ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c21a028>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c22bd00>>
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  UPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 11
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c1becf0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c1cb310>>
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 12[0m
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_update_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c1d2b88>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "blogs" ("body", "title") VALUES (?, ?)  [["body", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "blogs" ("body", "title") VALUES (?, ?)[0m  [["body", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", "123abc"], ["title", "another world"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Book:0x007f8e1c2ac900>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "friends" ("book_id", "favorite_color", "name") VALUES (?, ?, ?)[0m  [["book_id", 3], ["favorite_color", "red"], ["name", "bob"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Friend:0x007f8e1c2b71e8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 1, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 2, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 3, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 4, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 5, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 6, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 7, name: "foo one">>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 8, name: "foo two">>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass id: 9, name: "foo one">>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.0ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1c3cf5f8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1c891b18>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1d04d578>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1d180148>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1d18ba20>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1ca86978>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1cabb420>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1c9d4318>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1cb2ef88>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1cc86ca0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1c095ea0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1cdef2b8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1d9ff008>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1f12f0e8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1f1357e0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1c1ac488>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1c1b4188>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1c207630>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (6.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1c2117c0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1c2263f0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1c230da0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1c1d4078>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.4ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1c1d66c0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1c1f39c8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1c1f5ef8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1c28ebf8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1c290fe8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1c2a8cb0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1c2b36d8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1c2ca068>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1c2cbda0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1c2ea728>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::MaxPageSizeClass:0x007f8e1c2ed180>>
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c3041c8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c30e3d0>>
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 0
  [1m[36mTestElasticSearchable::Post Load (0.3ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 1[0m
  [1m[35mTestElasticSearchable::Post Load (0.2ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 2
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "posts"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c348be8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c352d00>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 15]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NoMethodError: undefined method `delete_id_from_index_backgrounded' for #<Class:0x007f8e1c1dbda0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c375508>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c37f7b0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c39ef70>>
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.8ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c3a1310>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 19]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NoMethodError: undefined method `delete_id_from_index_backgrounded' for #<Class:0x007f8e1c1dbda0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c3cb188>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c3cccb8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c3efbf0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c3fa140>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (4.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c41aa80>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c41d000>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c43d918>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c43fec0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.1ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c04d290>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c8aa230>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (2.4ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1d14db58>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1d17cd18>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c970700>>
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1d90fbe8>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.9ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1cb3cfc0>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1d960598>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.3ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1ce3c6f8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1cd6b378>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1f12cac8>>
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
#<NameError: undefined local variable or method `update_index_on_create_backgrounded' for #<TestElasticSearchable::Post:0x007f8e1c24af98>>
  [1m[36m (1.9ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.6ms)[0m  DROP TABLE "posts"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255), "name" varchar(255)) [0m
  [1m[35m (1.0ms)[0m  DROP TABLE "blogs"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "blogs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255)) [0m
  [1m[35m (0.8ms)[0m  DROP TABLE "users"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.0ms)[0m  DROP TABLE "friends"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "friends" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "favorite_color" varchar(255), "book_id" integer) [0m
  [1m[35m (0.9ms)[0m  DROP TABLE "books"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "isbn" varchar(255)) [0m
  [1m[35m (1.0ms)[0m  DROP TABLE "max_page_size_classes"
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "max_page_size_classes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (2.4ms)[0m  DROP TABLE "parents"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "parents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (1.0ms)[0m  DROP TABLE "children"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "children" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "parent_id" integer) [0m
  [1m[35m (0.2ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.8ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", nil], ["title", "bar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("isbn", "title") VALUES (?, ?)[0m  [["isbn", nil], ["title", "foo"]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (2.6ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (3.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 10[0m
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.4ms)[0m  SELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  UPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 11
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 12[0m
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "blogs" ("body", "title") VALUES (?, ?)  [["body", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "blogs" ("body", "title") VALUES (?, ?)[0m  [["body", nil], ["title", "foo"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", "123abc"], ["title", "another world"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "friends" ("book_id", "favorite_color", "name") VALUES (?, ?, ?)[0m  [["book_id", 3], ["favorite_color", "red"], ["name", "bob"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::MaxPageSizeClass Load (0.3ms)[0m  [1mSELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (3.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::MaxPageSizeClass Load (0.2ms)[0m  SELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::MaxPageSizeClass Load (0.3ms)[0m  [1mSELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (2.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::MaxPageSizeClass Load (0.2ms)[0m  SELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::MaxPageSizeClass Load (0.2ms)[0m  [1mSELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::MaxPageSizeClass Load (0.2ms)[0m  SELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::MaxPageSizeClass Load (0.2ms)[0m  [1mSELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (3.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (3.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (3.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (10.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (3.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "posts"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (4.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.4ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 0[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 1
  [1m[36mTestElasticSearchable::Post Load (0.3ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 2[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "posts"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (8.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 15]]
  [1m[36m (4.0ms)[0m  [1mcommit transaction[0m
#<NoMethodError: undefined method `delete_id_from_index_backgrounded' for #<Class:0x007f84fc3ea5c0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.4ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" IN (18, 17)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 19]]
  [1m[36m (3.9ms)[0m  [1mcommit transaction[0m
#<NoMethodError: undefined method `delete_id_from_index_backgrounded' for #<Class:0x007f84fc3ea5c0>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (4.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (12.9ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (20.7ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 24]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (7.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.7ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 26]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (3.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 28]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" IN (29, 30)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 31]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (10.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.2ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 33]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (11.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (3.6ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 35]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" IN (38, 37)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 39]]
  [1m[36m (5.0ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (28.7ms)[0m  DROP TABLE "posts"
  [1m[36m (2.0ms)[0m  [1mCREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255), "name" varchar(255)) [0m
  [1m[35m (1.5ms)[0m  DROP TABLE "blogs"
  [1m[36m (4.3ms)[0m  [1mCREATE TABLE "blogs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255)) [0m
  [1m[35m (2.7ms)[0m  DROP TABLE "users"
  [1m[36m (1.8ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (9.7ms)[0m  DROP TABLE "friends"
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "friends" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "favorite_color" varchar(255), "book_id" integer) [0m
  [1m[35m (21.9ms)[0m  DROP TABLE "books"
  [1m[36m (7.0ms)[0m  [1mCREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "isbn" varchar(255)) [0m
  [1m[35m (91.4ms)[0m  DROP TABLE "max_page_size_classes"
  [1m[36m (7.2ms)[0m  [1mCREATE TABLE "max_page_size_classes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.3ms)[0m  DROP TABLE "parents"
  [1m[36m (5.5ms)[0m  [1mCREATE TABLE "parents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (3.8ms)[0m  DROP TABLE "children"
  [1m[36m (1.6ms)[0m  [1mCREATE TABLE "children" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "parent_id" integer) [0m
  [1m[35m (0.2ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (6.7ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", nil], ["title", "bar"]]
  [1m[36m (8.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (4.3ms)[0m  [1mINSERT INTO "books" ("isbn", "title") VALUES (?, ?)[0m  [["isbn", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 10[0m
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.2ms)[0m  SELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  UPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 11
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (8.7ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (1.9ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 12[0m
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "blogs" ("body", "title") VALUES (?, ?)  [["body", nil], ["title", "foo"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (5.4ms)[0m  [1mINSERT INTO "blogs" ("body", "title") VALUES (?, ?)[0m  [["body", nil], ["title", "foo"]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (6.1ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", "123abc"], ["title", "another world"]]
  [1m[36m (12.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "friends" ("book_id", "favorite_color", "name") VALUES (?, ?, ?)[0m  [["book_id", 3], ["favorite_color", "red"], ["name", "bob"]]
  [1m[35m (20.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (11.3ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::MaxPageSizeClass Load (0.3ms)[0m  [1mSELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::MaxPageSizeClass Load (0.2ms)[0m  SELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (5.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (19.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (5.4ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::MaxPageSizeClass Load (1.3ms)[0m  [1mSELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (19.9ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (6.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.9ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::MaxPageSizeClass Load (0.2ms)[0m  SELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (18.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (3.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (3.0ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::MaxPageSizeClass Load (9.8ms)[0m  [1mSELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::MaxPageSizeClass Load (0.2ms)[0m  SELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (10.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::MaxPageSizeClass Load (3.7ms)[0m  [1mSELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.5ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (8.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (5.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (6.0ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (20.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (15.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (8.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (5.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (6.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (4.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (12.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (3.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.6ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (3.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (4.8ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (24.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (4.4ms)[0m  [1mcommit transaction[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "posts"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (10.9ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (4.2ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.4ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 0[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 1
  [1m[36mTestElasticSearchable::Post Load (0.3ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 2[0m
  [1m[35mSQL (35.1ms)[0m  DELETE FROM "posts"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (4.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (3.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 15]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
#<NoMethodError: undefined method `delete_id_from_index_backgrounded' for #<Class:0x007fc6a3247428>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" IN (18, 17)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 19]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
#<NoMethodError: undefined method `delete_id_from_index_backgrounded' for #<Class:0x007fc6a3247428>>
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (5.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (8.1ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 24]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (7.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.2ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 26]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (9.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (4.4ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 28]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (6.2ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (9.5ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" IN (29, 30)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (22.3ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 31]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (11.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.2ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 33]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 35]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" IN (38, 37)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 39]]
  [1m[36m (1.4ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.6ms)[0m  DROP TABLE "posts"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255), "name" varchar(255)) [0m
  [1m[35m (1.7ms)[0m  DROP TABLE "blogs"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "blogs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255)) [0m
  [1m[35m (1.0ms)[0m  DROP TABLE "users"
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.3ms)[0m  DROP TABLE "friends"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "friends" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "favorite_color" varchar(255), "book_id" integer) [0m
  [1m[35m (1.2ms)[0m  DROP TABLE "books"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "isbn" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  DROP TABLE "max_page_size_classes"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "max_page_size_classes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.3ms)[0m  DROP TABLE "parents"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "parents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (1.0ms)[0m  DROP TABLE "children"
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "children" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "parent_id" integer) [0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.8ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", nil], ["title", "bar"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("isbn", "title") VALUES (?, ?)[0m  [["isbn", nil], ["title", "foo"]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (8.2ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (3.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (42.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.3ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 10[0m
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  UPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 11
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (2.1ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 12[0m
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "blogs" ("body", "title") VALUES (?, ?)  [["body", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "blogs" ("body", "title") VALUES (?, ?)[0m  [["body", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", "123abc"], ["title", "another world"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "friends" ("book_id", "favorite_color", "name") VALUES (?, ?, ?)[0m  [["book_id", 3], ["favorite_color", "red"], ["name", "bob"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::MaxPageSizeClass Load (0.3ms)[0m  [1mSELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::MaxPageSizeClass Load (0.2ms)[0m  SELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::MaxPageSizeClass Load (0.2ms)[0m  [1mSELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::MaxPageSizeClass Load (0.2ms)[0m  SELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::MaxPageSizeClass Load (0.2ms)[0m  [1mSELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::MaxPageSizeClass Load (0.2ms)[0m  SELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::MaxPageSizeClass Load (0.2ms)[0m  [1mSELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (5.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (3.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (4.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (5.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (18.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (5.0ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mSQL (1.2ms)[0m  DELETE FROM "posts"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.3ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 0[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 1
  [1m[36mTestElasticSearchable::Post Load (0.3ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 2[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "posts"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 15]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" IN (18, 17)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 19]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.2ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 24]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.2ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 26]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 28]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" IN (29, 30)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (9.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 31]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (14.4ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.2ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 33]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 35]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" IN (38, 37)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (3.4ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 39]]
  [1m[36m (1.5ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.6ms)[0m  DROP TABLE "posts"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255), "name" varchar(255)) [0m
  [1m[35m (0.9ms)[0m  DROP TABLE "blogs"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "blogs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255)) [0m
  [1m[35m (1.3ms)[0m  DROP TABLE "users"
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  DROP TABLE "friends"
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "friends" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "favorite_color" varchar(255), "book_id" integer) [0m
  [1m[35m (1.3ms)[0m  DROP TABLE "books"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "isbn" varchar(255)) [0m
  [1m[35m (0.9ms)[0m  DROP TABLE "max_page_size_classes"
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "max_page_size_classes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  DROP TABLE "parents"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "parents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (1.0ms)[0m  DROP TABLE "children"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "children" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "parent_id" integer) [0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.7ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", nil], ["title", "bar"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("isbn", "title") VALUES (?, ?)[0m  [["isbn", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (3.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.3ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 10[0m
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.2ms)[0m  SELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  UPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 11
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 12[0m
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "blogs" ("body", "title") VALUES (?, ?)  [["body", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "blogs" ("body", "title") VALUES (?, ?)[0m  [["body", nil], ["title", "foo"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", "123abc"], ["title", "another world"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "friends" ("book_id", "favorite_color", "name") VALUES (?, ?, ?)[0m  [["book_id", 3], ["favorite_color", "red"], ["name", "bob"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (3.4ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::MaxPageSizeClass Load (0.3ms)[0m  [1mSELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::MaxPageSizeClass Load (0.1ms)[0m  SELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::MaxPageSizeClass Load (0.2ms)[0m  [1mSELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::MaxPageSizeClass Load (0.2ms)[0m  SELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (1.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::MaxPageSizeClass Load (0.2ms)[0m  [1mSELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (4.2ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::MaxPageSizeClass Load (0.2ms)[0m  SELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::MaxPageSizeClass Load (0.1ms)[0m  [1mSELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (3.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (5.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (2.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "posts"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.3ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 0[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 1
  [1m[36mTestElasticSearchable::Post Load (0.4ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 2[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "posts"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 15]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" IN (18, 17)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 19]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 24]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.2ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 26]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 28]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" IN (29, 30)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 31]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.2ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 33]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (9.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 35]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" IN (38, 37)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 39]]
  [1m[36m (1.6ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.3ms)[0m  DROP TABLE "posts"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255), "name" varchar(255)) [0m
  [1m[35m (0.8ms)[0m  DROP TABLE "blogs"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "blogs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" varchar(255)) [0m
  [1m[35m (0.9ms)[0m  DROP TABLE "users"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (0.9ms)[0m  DROP TABLE "friends"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "friends" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "favorite_color" varchar(255), "book_id" integer) [0m
  [1m[35m (1.3ms)[0m  DROP TABLE "books"
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "isbn" varchar(255)) [0m
  [1m[35m (1.0ms)[0m  DROP TABLE "max_page_size_classes"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "max_page_size_classes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (0.9ms)[0m  DROP TABLE "parents"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "parents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.9ms)[0m  DROP TABLE "children"
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "children" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "parent_id" integer) [0m
  [1m[35m (0.2ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", nil], ["title", "bar"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("isbn", "title") VALUES (?, ?)[0m  [["isbn", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 10[0m
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.2ms)[0m  SELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  UPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 11
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "bar"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.3ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mUPDATE "posts" SET "title" = 'baz' WHERE "posts"."id" = 12[0m
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "blogs" ("body", "title") VALUES (?, ?)  [["body", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "blogs" ("body", "title") VALUES (?, ?)[0m  [["body", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("isbn", "title") VALUES (?, ?)  [["isbn", "123abc"], ["title", "another world"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "friends" ("book_id", "favorite_color", "name") VALUES (?, ?, ?)[0m  [["book_id", 3], ["favorite_color", "red"], ["name", "bob"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::MaxPageSizeClass Load (0.2ms)[0m  [1mSELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::MaxPageSizeClass Load (0.1ms)[0m  SELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::MaxPageSizeClass Load (0.2ms)[0m  [1mSELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::MaxPageSizeClass Load (0.2ms)[0m  SELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::MaxPageSizeClass Load (0.1ms)[0m  [1mSELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::MaxPageSizeClass Load (0.1ms)[0m  SELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo one"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo two"]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::MaxPageSizeClass Load (0.1ms)[0m  [1mSELECT "max_page_size_classes".* FROM "max_page_size_classes" WHERE "max_page_size_classes"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (3.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (2.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (4.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "max_page_size_classes" ("name") VALUES (?)[0m  [["name", "foo one"]]
  [1m[35m (4.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "max_page_size_classes" ("name") VALUES (?)  [["name", "foo two"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSQL (1.1ms)[0m  DELETE FROM "posts"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (3.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.4ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 0[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 1
  [1m[36mTestElasticSearchable::Post Load (0.3ms)[0m  [1mSELECT "posts".* FROM "posts" ORDER BY body desc LIMIT 1 OFFSET 2[0m
  [1m[35mSQL (1.1ms)[0m  DELETE FROM "posts"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 15]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" IN (18, 17)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (4.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 19]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 24]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (3.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.2ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 26]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 28]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" IN (29, 30)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 31]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.1ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1  [["id", 33]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 35]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mTestElasticSearchable::Post Load (0.3ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."id" IN (38, 37)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)  [["body", "first foo"], ["name", nil], ["title", "bar"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "posts" ("body", "name", "title") VALUES (?, ?, ?)[0m  [["body", "second foo"], ["name", nil], ["title", "foo"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mTestElasticSearchable::Post Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT 1[0m  [["id", 39]]
